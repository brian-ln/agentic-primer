{"id":"ap-10a","title":"Specify cross-shard message forwarding protocol","lifecycle":"completed","priority":"P0","description":"Define how messages route between Signal Hub instances when actors on different shards. Kimi marked as BLOCKING. Must specify: actor location discovery, forwarding message format, failure handling, TTL across hops, circular forwarding prevention. Deliverable: Add to PROTOCOL.md and SCALABILITY.md","assignee":"@(system)"}
{"id":"ap-0qe","title":"Add hub:refresh_token to MVP","lifecycle":"completed","priority":"P1","description":"Design token refresh mechanism to avoid forced disconnect/reconnect every 1-4 hours. Kimi upgraded to HIGH. Must specify: hub:refresh_token message type, token refresh flow, grace period handling, security considerations (replay attacks, token rotation). Add to MESSAGE_TYPES.md and PROTOCOL.md","assignee":"@(system)"}
{"id":"ap-2nc","title":"P0: Connection Lifecycle Fixes (WS1.1)","lifecycle":"completed","priority":"P0","description":"Implement duplicate connection detection and fix disconnect response ordering. Includes connection state tracking for observability. Success: Reconnection tests pass, old sessions properly cleaned up.","assignee":"@(system)"}
{"id":"ap-3m1","title":"Fix actor discovery returning empty results (5 tests)","lifecycle":"completed","priority":"P2","description":"Actor discovery returns empty or incomplete arrays. Investigate registry storage in Durable Object, verify hub:discover handler, fix storage or query logic. Can run parallel to message delivery investigation. Estimated 2-3 hours.","assignee":"@(system)"}
{"id":"ap-4ei","title":"Fix API signature mismatches (.onMessage → .on('message'))","lifecycle":"completed","priority":"P2","description":"Replace 3 instances of .onMessage() with .on('message') in messaging.test.ts:286, pubsub.test.ts:80, pubsub.test.ts:98. Quick win - estimated 30 minutes.","assignee":"@(system)"}
{"id":"ap-gn2","title":"Signal Hub Implementation","lifecycle":"completed","priority":"P1","description":"Build Signal Hub on Cloudflare Workers using session-gateway pattern to enable protocol convergence across SEAG (local) ↔ Signal Hub (Workers) ↔ Browser clients. Validates the entire stack end-to-end with real-world actor coordination.","assignee":"@(system)"}
{"id":"ap-5r3","title":"Replace jsonwebtoken with jose library","lifecycle":"completed","priority":"P1","description":"Update SECURITY.md to use panva/jose instead of jsonwebtoken for Cloudflare Workers compatibility (Web Crypto API vs Node.js crypto). Update all JWT examples, verification flows, import statements. Verify jose works in Workers runtime.","assignee":"@(system)"}
{"id":"ap-907","title":"P2: Developer Experience (WS4.2)","lifecycle":"completed","priority":"P2","description":"Enhance error messages with resolution steps, add client sendMessage() convenience API. Success: All errors actionable, flat payload construction hidden from users."}
{"id":"ap-5fi","title":"Define JSON Schema + Zod for hub:* messages","lifecycle":"completed","priority":"P0","description":"Create language-agnostic JSON Schema definitions for all 24 hub:* message types. Generate Zod validators from JSON Schema (following agentic-primer pattern). Kimi upgraded to P0 (MUST FIX before MVP). Files: schema/hub-messages.schema.json, generated zod validators.","assignee":"@(system)"}
{"id":"ap-azc","title":"Flatten hub:send payload structure","lifecycle":"completed","priority":"P2","description":"Redesign hub:send to eliminate confusing nested addressing (outer 'to' vs inner 'to'). Current: message-within-message pattern. Goal: Single-level addressing. No breaking changes to SharedMessage spec. Update PROTOCOL.md and MESSAGE_TYPES.md. Opus P1, Kimi downgraded to V2 (defer).","assignee":"@(system)"}
{"id":"ap-a8v","title":"P1: Reliability & Operations (WS2.2)","lifecycle":"completed","priority":"P1","description":"Reduce heartbeat interval to 20s, implement structured JSON logging across all handlers. Success: Heartbeat 20s interval, all logs JSON-formatted and queryable."}
{"id":"ap-5a4","title":"P0: Performance & Observability (WS1.3)","lifecycle":"completed","priority":"P0","description":"Remove verbose debug logging from hot paths, add DEBUG flag support, implement basic per-minute metrics. Success: Log volume reduced >90%, metrics collection operational."}
{"id":"ap-ayo","title":"P1: Security & Correctness (WS2.1)","lifecycle":"completed","priority":"P1","description":"Implement per-session rate limiting, fix unsubscribe to be topic-specific, resolve target address ambiguity. Success: Rate limiting active (10 msg/sec), unsubscribe works per-topic, target addressing unambiguous."}
{"id":"ap-br1","title":"P2: Performance Optimizations (WS4.1)","lifecycle":"completed","priority":"P2","description":"Add inverse index for subscription cleanup (O(S) not O(T)), optimize broadcast JSON.stringify (stringify once). Success: Disconnect <10ms with 100 topics, broadcast CPU reduced >50%."}
{"id":"ap-gn2.1","title":"Design Signal Hub protocol and schema","lifecycle":"completed","priority":"P1","description":"Define the message protocol for Signal Hub actor coordination. Specify message types (register, broadcast, point-to-point), schema using @agentic-primer/protocols types, and wire format. Document in docs/signal-hub/PROTOCOL.md with examples.","assignee":"@(system)"}
{"id":"ap-gn2.2","title":"Implement Signal Hub on Cloudflare Workers","lifecycle":"completed","priority":"P1","description":"Build Signal Hub using session-gateway pattern from docs/actor-design/patterns/. Use Durable Objects for actor state, WebSocket for connections. Implement protocol from design task. Location: services/signal-hub/","assignee":"@(system)"}
{"id":"ap-gn2.5","title":"End-to-end Signal Hub integration tests","lifecycle":"completed","priority":"P2","description":"Test SEAG → Signal Hub → Browser flow. Validate message delivery, actor discovery, failover scenarios. Add to tests/integration/signal-hub/","assignee":"@(system)"}
{"id":"ap-gn2.4","title":"Create Signal Hub browser client","lifecycle":"completed","priority":"P1","description":"Build lightweight browser client for Signal Hub using native WebSocket. No framework dependencies. Expose API for connecting browser-based actors. Include in packages/signal-hub-client/","assignee":"@(system)"}
{"id":"ap-j1s","title":"End-to-end integration verification (100% pass rate)","lifecycle":"completed","priority":"P2","description":"Final verification after all fixes complete. Run full test suite 3x to verify 43/43 tests pass consistently. Check performance metrics, document results. Estimated 30 minutes. Depends on all previous phases."}
{"id":"ap-gn2.3","title":"Integrate SEAG with Signal Hub client","lifecycle":"completed","priority":"P1","description":"Add Signal Hub client to SEAG/UGS that connects local actors to remote Signal Hub. Implement reconnection logic, message routing, and state sync. Update ugs/ codebase.","assignee":"@(system)"}
{"id":"ap-lr1","title":"Investigate and fix message delivery timeouts (22 tests)","lifecycle":"completed","priority":"P2","description":"Critical blocker: All messaging, pub/sub, and broadcast tests timing out at 5000ms. Add debug logging to client and hub, trace message flow, identify breakpoint, implement fix. Estimated 4-6 hours. Affects 73% of failures.","assignee":"@(system)"}
{"id":"ap-rls","title":"Test: Framework Fixes (WS3.1)","lifecycle":"completed","priority":"P0","description":"Fix module import error, investigate and resolve broadcast/pub/sub timeout root causes, fix message ordering race condition. Success: All 13 failing tests pass, test suite stable."}
{"id":"ap-x6y","title":"P0: Resource Protection (WS1.2)","lifecycle":"completed","priority":"P0","description":"Schedule TTL cleanup alarm, add message size check before parse, enforce broadcast limit. Prevents resource exhaustion attacks. Success: Alarms fire, oversized messages rejected, broadcast limit enforced."}
{"id":"ap-uo6","title":"P2: Advanced Features (WS4.3)","lifecycle":"completed","priority":"P2","description":"Implement hub:refresh_token for long-lived sessions. Success: Sessions >1 hour can refresh tokens, documented in PROTOCOL.md."}
{"id":"ap-ym7","title":"Test: Coverage Expansion (WS3.2)","lifecycle":"completed","priority":"P1","description":"Add handler unit tests (registration, messaging, pubsub), create reconnection scenario tests. Success: Handler coverage >80%, reconnection scenarios validated."}
{"id":"ap-zyx","title":"Fix session cleanup on disconnect (1 test)","lifecycle":"completed","priority":"P3","description":"Session ID not cleared after disconnect. Add 'this.sessionId = null' to SignalHubClient disconnect() method. Simple fix, estimated 15 minutes. Can be done anytime in parallel.","assignee":"@(system)"}
{"id":"bun-backpressure","title":"BunWebSocketBridge: handle send() backpressure via drain queue","lifecycle":"completed","priority":"P3","description":"BunWebSocketBridge.broadcast() ignores the number return value of ws.send(). When send() returns -1 (backpressure) or 0 (dropped), messages are silently lost. Implement a per-connection queue that buffers unsent messages and flushes in the handleDrain() handler. See packages/bun/TRANSPORTS.md for context.","assignee":"claude"}
{"id":"md-lint","title":"Add markdown linting to check workflow","lifecycle":"completed","priority":"P3","description":"Install markdownlint-cli2 at root. Run --fix first to auto-fix blanks/headings/fences. Disable remaining noisy rules (MD034, MD040) or fix manually. Scope lint:md to packages/ and services/ to avoid historical noise in core/ and archive/. Then add to root check target.","assignee":"system"}
{"id":"ap-virt-factory","title":"Virtual actor factory hook in MessageRouter (on address miss)","lifecycle":"completed","priority":"P1","assignee":"claude"}
{"id":"ai-scaffold","title":"@agentic-primer/ai package scaffold: tsconfig, package.json, index","lifecycle":"completed","priority":"P2","assignee":"claude"}
{"id":"ap-bin-tests","title":"Integration tests: binary channel protocol (CF + Bun bridges)","lifecycle":"completed","priority":"P1","depends-on":["ap-virt-factory"],"assignee":"claude"}
{"id":"ai-protocol-types","title":"Canonical AI actor message types package","lifecycle":"completed","priority":"P2","depends-on":["ai-schema"],"assignee":"claude"}
{"id":"ai-session","title":"SessionActor: per-user session actor (replaces VoiceSession)","lifecycle":"completed","priority":"P2","depends-on":["ai-gateway"],"assignee":"claude"}
{"id":"ai-inference","title":"InferenceActor: LLM inference routing actor","lifecycle":"completed","priority":"P2","depends-on":["ai-gateway"],"assignee":"claude"}
{"id":"ai-stt","title":"SttActor: speech-to-text actor (Deepgram Nova)","lifecycle":"completed","priority":"P2","depends-on":["ai-gateway"],"assignee":"claude"}
{"id":"ai-gateway","title":"GatewayActor: AI Gateway proxy actor (bln_ai namespace)","lifecycle":"completed","priority":"P2","depends-on":["ai-schema"],"assignee":"claude"}
{"id":"ai-schema","title":"AI actor message schema additions to hub-messages.schema.json","lifecycle":"completed","priority":"P2","depends-on":["ai-scaffold"],"assignee":"claude"}
{"id":"ai-tts","title":"TtsActor: text-to-speech actor (Deepgram Aura)","lifecycle":"completed","priority":"P2","depends-on":["ai-gateway"],"assignee":"claude"}
{"id":"dsl-helpers-types","title":"Fix stale QueryMetadata assertions in dsl-helpers.test.ts","lifecycle":"completed","priority":"P2","assignee":"system"}
{"id":"alias-cleanup","title":"Remove unused imports + await no-ops in alias-resolution.test.ts","lifecycle":"completed","priority":"P3","assignee":"system"}
{"id":"fs-router-iface","title":"FileSystemActor: accept IMessageRouter instead of concrete MessageRouter","lifecycle":"completed","priority":"P2","assignee":"system"}
{"id":"ai-discovery","title":"ai-discovery: add ai.discover + ai.health handlers to all AI actors","lifecycle":"completed","priority":"P2","assignee":"bln"}
{"id":"ai-tests","title":"ai-tests: integration tests for all packages/ai actors","lifecycle":"completed","priority":"P2","assignee":"bln"}
{"id":"dm-scaffold","title":"dm-scaffold: BunActorSystem scaffold in brianln.ai daemon","lifecycle":"pending","priority":"P3"}
{"id":"spec-expired-jwt","title":"Test: expired JWT on initial hub:connect","lifecycle":"completed","priority":"P1","assignee":"claude"}
{"id":"spec-hibernation-wake","title":"Test: hibernation wake — session/registry state persists, message delivery works on wake","lifecycle":"completed","priority":"P1","assignee":"claude"}
{"id":"ugfm-claim3-runnable","title":"Claim 3: Make generated code actually runnable","lifecycle":"completed","priority":"P1","assignee":"claude"}
{"id":"ugfm-claim2-scale","title":"Claim 2: Add 100+ node scalability test","lifecycle":"completed","priority":"P1","assignee":"claude"}
{"id":"ugfm-claim4-comparison","title":"Claim 4: Head-to-head comparison with domain-specific approach","lifecycle":"completed","priority":"P2","assignee":"claude"}
{"id":"ugfm-ctl-datalog","title":"UGFM: CTL model checking via Datalog query layer over GraphStore","lifecycle":"completed","priority":"P2","description":"Implement a minimal Datalog evaluator over GraphStore that gives CTL equivalence. CTL model checking reduces to Datalog with stratified negation (Emerson 1990 / Immerman 1986). Goals: (1) Define core CTL operators as Datalog rules over GraphStore node/edge maps — EF P (existential reachability), AF P (all paths eventually P), EG P (existential invariance), AG P (universal invariance). (2) Implement a fixed-point evaluator in ~300-500 LOC TypeScript that iterates rules to convergence. (3) Demonstrate on ugfm-claim2 Kripke structures: verify deadlock freedom (AG not-sink), mutual exclusion (AG not-both-critical), and liveness (AF service). (4) Write tests in ugfm-claim2.test.ts suite 2.6. Files: ugs/src/ugfm-datalog.ts (evaluator), ugs/src/ugfm-claim2.test.ts (suite 2.6). Success: CTL properties verified on existing Kripke structures using Datalog rules; tests pass.","assignee":"claude"}
{"id":"shot-actor-design","title":"Design ScreenCaptureActor as generalizable graph actor","lifecycle":"completed","priority":"P1","description":"Define the ScreenCaptureActor interface: capture() → ScreenshotArtifact graph node. Two implementations: LocalScreenCaptureActor (macOS screencapture) and CloudflareScreenCaptureActor (Browser Rendering API). Covers CAPTURE_REQUESTED signal, actor registration in UGS, and brianln.ai Worker as write surface. Design doc at /tmp/screenshot-sharing-design.md.","assignee":"brian"}
{"id":"shot-ugs-asset-entity","title":"Add Asset/Artifact entity type to UGS work graph","lifecycle":"completed","priority":"P1","description":"UGS currently has tasks, sessions, agents, epics — no first-class binary artifact node. Add Asset entity with typed edges: captured_during→Session, has_artifact→Task, requested_by→Agent, supported_by→Decision, body_ref→Signal. Required prerequisite for ScreenshotArtifact nodes and all downstream actor integration. Lives in agentic-primer UGS source.","depends-on":["shot-actor-design"],"assignee":"claude"}
{"id":"shot-r2-credentials","title":"Configure R2 API token and aws profile for presigned URLs","lifecycle":"completed","priority":"P2","description":"One-time setup: create R2 API token (read/write on knowledge bucket) at dash.cloudflare.com, configure ~/.aws/credentials profile r2-knowledge with endpoint https://8d78f1135e2ebd70b5c8f5dee9d519ff.r2.cloudflarestorage.com. Run 'shot setup' for step-by-step guide. Unblocks shot -u presign flow.","assignee":"system"}
{"id":"shot-capture-signal","title":"Add CAPTURE_REQUESTED signal type to signal-hub schema","lifecycle":"pending","priority":"P2","description":"New SignalMessage type: source=shot, type=capture-requested, body=capture params (mode, url, note, session_id, task_id). Allows agents to request captures without CLI access. Brain DO routes to appropriate ScreenCaptureActor implementation based on context (local vs Cloudflare). Add to signal-hub types.ts and Brain DO triage rules.","depends-on":["shot-worker-endpoint"]}
{"id":"shot-bun-rewrite","title":"Rewrite ~/bin/shot from bash to Bun/TypeScript","lifecycle":"completed","priority":"P2","description":"Current bash script works for local capture and wrangler upload but gets complex with multiple flags. Rewrite as Bun script consistent with ecosystem skill conventions (CLAUDE.md: all skills must be TypeScript/Bun). Bash wrapper at ~/bin/shot remains as entry point. Enables cleaner --know, --task, --send flag composition and proper error handling.","depends-on":["shot-actor-design","shot-actor-interface"],"assignee":"claude"}
{"id":"shot-cloudflare-actor","title":"CloudflareScreenCaptureActor using Browser Rendering API","lifecycle":"pending","priority":"P2","description":"Cloudflare Worker implementation of ScreenCaptureActor using Browser Rendering API (Puppeteer). Captures any URL headlessly. Useful for: agents capturing dashboards/pages, automated visual regression, COS/EA triggered captures without local machine. Stores to R2 via same worker endpoint. Completes the two-implementation actor pattern.","depends-on":["shot-worker-endpoint","shot-actor-interface"]}
{"id":"shot-knowledge-manifest","title":"Implement ~/knowledge/screenshots/manifest.jsonl indexing","lifecycle":"completed","priority":"P2","description":"Each shot capture appends a ScreenshotArtifact JSONL record to ~/knowledge/screenshots/manifest.jsonl and updates INDEX.md. Schema defined in design doc. Currently partially implemented in shot -u flow but needs --know flag as standalone. Follows ~/knowledge/schemas/signal.schema.yaml conventions.","assignee":"system"}
{"id":"shot-skill","title":"Integrate shot as screenshot capture mode in brainstorm daemon","lifecycle":"completed","priority":"P2","description":"shot is not a standalone skill — it folds into /brainstorm as a second capture modality. Changes: (1) Add POST /api/screenshot endpoint to brainstorm server.ts — spawns screencapture -i, returns path + base64 preview. (2) Add camera button to brainstorm UI — calls /api/screenshot, shows preview + note field, same save pipeline as text capture. (3) Add second macOS hotkey (e.g. ⌃⌥S) via Shortcuts.app that calls /api/screenshot directly — zero UI, pure capture mode. (4) /api/save handles both text and ScreenshotArtifact. (5) Update brainstorm SKILL.md to include screenshot subcommands. Brainstorm project: /Users/bln/play/projects/proj-20260220-083002/src/server.ts","depends-on":["shot-bun-rewrite"],"assignee":"claude"}
{"id":"shot-worker-endpoint","title":"brianln.ai Worker: POST /api/assets/screenshot","lifecycle":"completed","priority":"P1","description":"Single atomic write surface: accepts PNG multipart upload, stores to R2 knowledge bucket under screenshots/YYYY/MM/DD/, creates ScreenshotArtifact graph node in UGS, emits visual-capture signal to signal-hub. Returns {id, r2_key, presigned_url, graph_node_id}. Replaces direct wrangler CLI calls from shot. Callable by local shot, agents, mobile, any actor.","depends-on":["shot-actor-design","shot-ugs-asset-entity"],"assignee":"claude"}
{"id":"ug-doc-fix-info-create","title":"Fix ug info create syntax in /ug SKILL.md","lifecycle":"completed","priority":"P1","assignee":"system"}
{"id":"ug-cli-fix-info-reporter","title":"Fix info.data vs info.config bug in ugs CLI success reporter","lifecycle":"completed","priority":"P2","assignee":"system"}
{"id":"ug-cli-fix-info-all-handlers","title":"Fix info.state->info.lifecycle and info.data->info.config in all info handlers (list, query, get, validate, activate, archive)","lifecycle":"completed","priority":"P2","assignee":"system"}
{"id":"shot-actor-interface","title":"Define ScreenCaptureActor TypeScript interface (multi-platform abstraction)","lifecycle":"completed","priority":"P1","description":"Define the shared ScreenCaptureActor interface and ScreenshotArtifact type that all platform implementations must satisfy. Platforms: LocalScreenCaptureActor (macOS screencapture/Bun), BrowserScreenCaptureActor (getDisplayMedia + canvas), CloudflareScreenCaptureActor (Browser Rendering API). Factory/detection logic selects implementation by runtime context. All implementations return identical ScreenshotArtifact — callers are platform-agnostic.","assignee":"claude"}
{"id":"shot-migrate-actors-pkg","title":"Create packages/screen-capture in agentic-primer with all three actor implementations","lifecycle":"completed","priority":"P1","description":"Create packages/screen-capture in agentic-primer. Structure: interface.ts (ScreenCaptureActor/CaptureParams/ScreenshotArtifact), native/macos.ts (screencapture CLI), native/windows.ts (PowerShell CopyFromScreen), native/linux.ts (scrot/maim/gnome-screenshot with fallback detection), native/index.ts (NativeScreenCaptureActor — delegates by process.platform), browser.ts (getDisplayMedia+canvas), cloudflare.ts (Browser Rendering API stub, defer). Package: @agentic-primer/screen-capture. Move from ~/bin/actors/. Remove ~/bin/actors/ after.","assignee":"claude"}
{"id":"shot-update-cli-import","title":"Update ~/bin/shot.ts to import from @agentic-primer/screen-capture","lifecycle":"completed","priority":"P1","description":"Replace import from ./actors/screen-capture.ts with @agentic-primer/screen-capture. Remove ~/bin/actors/. Update ~/bin/tsconfig.json for workspace resolution.","depends-on":["shot-migrate-actors-pkg"],"assignee":"claude"}
{"id":"shot-move-to-skill","title":"Move shot.ts into ~/.claude/skills/shot/ skill, symlink ~/bin/shot","lifecycle":"completed","priority":"P1","description":"Create ~/.claude/skills/shot/ with SKILL.md and app/shot.ts. Move ~/bin/shot.ts to ~/.claude/skills/shot/app/shot.ts. Update ~/bin/shot symlink to ~/.claude/skills/shot/app/shot.ts. Update import path to @agentic-primer/screen-capture once shot-update-cli-import is done. Commit ~/.claude repo.","depends-on":["shot-migrate-actors-pkg"],"assignee":"claude"}
{"id":"shot-rename-pkg-computer-use","title":"Rename @agentic-primer/screen-capture → @agentic-primer/computer-use","lifecycle":"completed","priority":"P1","description":"Move packages/screen-capture/ to packages/computer-use/. Restructure: src/screen-capture/{interface,native/,browser,cloudflare} as a subpath. Package name: @agentic-primer/computer-use. Update package.json exports map to include both '.' (re-exports all) and './screen-capture' subpath. Update import in ~/.claude/skills/shot/app/shot.ts. Update ~/.claude/skills/shot/package.json dependency reference.","depends-on":["shot-move-to-skill"],"assignee":"claude"}
{"id":"ug-dir-consolidation","title":"Consolidate UGS data files into .ug/ directory","lifecycle":"pending","priority":"P3"}
{"id":"agentic-primer-gn2","title":"Signal Hub Implementation","lifecycle":"completed","priority":"P1","description":"Build Signal Hub on Cloudflare Workers using session-gateway pattern to enable protocol convergence across SEAG (local) ↔ Signal Hub (Workers) ↔ Browser clients. Validates the entire stack end-to-end with real-world actor coordination."}
{"id":"agentic-primer-gn2.1","title":"Design Signal Hub protocol and schema","lifecycle":"completed","priority":"P1","description":"Define the message protocol for Signal Hub actor coordination. Specify message types (register, broadcast, point-to-point), schema using @agentic-primer/protocols types, and wire format. Document in docs/signal-hub/PROTOCOL.md with examples."}
{"id":"agentic-primer-gn2.2","title":"Implement Signal Hub on Cloudflare Workers","lifecycle":"completed","priority":"P1","description":"Build Signal Hub using session-gateway pattern from docs/actor-design/patterns/. Use Durable Objects for actor state, WebSocket for connections. Implement protocol from design task. Location: services/signal-hub/"}
{"id":"agentic-primer-gn2.3","title":"Integrate SEAG with Signal Hub client","lifecycle":"completed","priority":"P1","description":"Add Signal Hub client to SEAG/UGS that connects local actors to remote Signal Hub. Implement reconnection logic, message routing, and state sync. Update ugs/ codebase."}
{"id":"agentic-primer-gn2.4","title":"Create Signal Hub browser client","lifecycle":"completed","priority":"P1","description":"Build lightweight browser client for Signal Hub using native WebSocket. No framework dependencies. Expose API for connecting browser-based actors. Include in packages/signal-hub-client/"}
{"id":"agentic-primer-gn2.5","title":"End-to-end Signal Hub integration tests","lifecycle":"completed","priority":"P2","description":"Test SEAG → Signal Hub → Browser flow. Validate message delivery, actor discovery, failover scenarios. Add to tests/integration/signal-hub/"}
{"id":"agentic-primer-5fi","title":"Define JSON Schema + Zod for hub:* messages","lifecycle":"completed","priority":"P0","description":"Create language-agnostic JSON Schema definitions for all 24 hub:* message types. Generate Zod validators from JSON Schema (following agentic-primer pattern). Kimi upgraded to P0 (MUST FIX before MVP). Files: schema/hub-messages.schema.json, generated zod validators."}
{"id":"agentic-primer-10a","title":"Specify cross-shard message forwarding protocol","lifecycle":"completed","priority":"P0","description":"Define how messages route between Signal Hub instances when actors on different shards. Kimi marked as BLOCKING. Must specify: actor location discovery, forwarding message format, failure handling, TTL across hops, circular forwarding prevention. Deliverable: Add to PROTOCOL.md and SCALABILITY.md"}
{"id":"agentic-primer-0qe","title":"Add hub:refresh_token to MVP","lifecycle":"completed","priority":"P1","description":"Design token refresh mechanism to avoid forced disconnect/reconnect every 1-4 hours. Kimi upgraded to HIGH. Must specify: hub:refresh_token message type, token refresh flow, grace period handling, security considerations (replay attacks, token rotation). Add to MESSAGE_TYPES.md and PROTOCOL.md"}
{"id":"agentic-primer-5r3","title":"Replace jsonwebtoken with jose library","lifecycle":"completed","priority":"P1","description":"Update SECURITY.md to use panva/jose instead of jsonwebtoken for Cloudflare Workers compatibility (Web Crypto API vs Node.js crypto). Update all JWT examples, verification flows, import statements. Verify jose works in Workers runtime."}
{"id":"agentic-primer-azc","title":"Flatten hub:send payload structure","lifecycle":"completed","priority":"P2","description":"Redesign hub:send to eliminate confusing nested addressing (outer 'to' vs inner 'to'). Current: message-within-message pattern. Goal: Single-level addressing. No breaking changes to SharedMessage spec. Update PROTOCOL.md and MESSAGE_TYPES.md. Opus P1, Kimi downgraded to V2 (defer)."}
{"id":"agentic-primer-4ei","title":"Fix API signature mismatches (.onMessage → .on('message'))","lifecycle":"completed","priority":"P2","description":"Replace 3 instances of .onMessage() with .on('message') in messaging.test.ts:286, pubsub.test.ts:80, pubsub.test.ts:98. Quick win - estimated 30 minutes."}
{"id":"agentic-primer-lr1","title":"Investigate and fix message delivery timeouts (22 tests)","lifecycle":"completed","priority":"P2","description":"Critical blocker: All messaging, pub/sub, and broadcast tests timing out at 5000ms. Add debug logging to client and hub, trace message flow, identify breakpoint, implement fix. Estimated 4-6 hours. Affects 73% of failures."}
{"id":"agentic-primer-3m1","title":"Fix actor discovery returning empty results (5 tests)","lifecycle":"completed","priority":"P2","description":"Actor discovery returns empty or incomplete arrays. Investigate registry storage in Durable Object, verify hub:discover handler, fix storage or query logic. Can run parallel to message delivery investigation. Estimated 2-3 hours."}
{"id":"agentic-primer-zyx","title":"Fix session cleanup on disconnect (1 test)","lifecycle":"pending","priority":"P3","description":"Session ID not cleared after disconnect. Add 'this.sessionId = null' to SignalHubClient disconnect() method. Simple fix, estimated 15 minutes. Can be done anytime in parallel."}
{"id":"agentic-primer-j1s","title":"End-to-end integration verification (100% pass rate)","lifecycle":"pending","priority":"P2","description":"Final verification after all fixes complete. Run full test suite 3x to verify 43/43 tests pass consistently. Check performance metrics, document results. Estimated 30 minutes. Depends on all previous phases."}
{"id":"agentic-primer-2nc","title":"P0: Connection Lifecycle Fixes (WS1.1)","lifecycle":"completed","priority":"P0","description":"Implement duplicate connection detection and fix disconnect response ordering. Includes connection state tracking for observability. Success: Reconnection tests pass, old sessions properly cleaned up."}
{"id":"agentic-primer-ayo","title":"P1: Security & Correctness (WS2.1)","lifecycle":"pending","priority":"P1","description":"Implement per-session rate limiting, fix unsubscribe to be topic-specific, resolve target address ambiguity. Success: Rate limiting active (10 msg/sec), unsubscribe works per-topic, target addressing unambiguous."}
{"id":"agentic-primer-a8v","title":"P1: Reliability & Operations (WS2.2)","lifecycle":"pending","priority":"P1","description":"Reduce heartbeat interval to 20s, implement structured JSON logging across all handlers. Success: Heartbeat 20s interval, all logs JSON-formatted and queryable."}
{"id":"agentic-primer-ym7","title":"Test: Coverage Expansion (WS3.2)","lifecycle":"pending","priority":"P1","description":"Add handler unit tests (registration, messaging, pubsub), create reconnection scenario tests. Success: Handler coverage >80%, reconnection scenarios validated."}
{"id":"agentic-primer-br1","title":"P2: Performance Optimizations (WS4.1)","lifecycle":"pending","priority":"P2","description":"Add inverse index for subscription cleanup (O(S) not O(T)), optimize broadcast JSON.stringify (stringify once). Success: Disconnect <10ms with 100 topics, broadcast CPU reduced >50%."}
{"id":"agentic-primer-907","title":"P2: Developer Experience (WS4.2)","lifecycle":"pending","priority":"P2","description":"Enhance error messages with resolution steps, add client sendMessage() convenience API. Success: All errors actionable, flat payload construction hidden from users."}
{"id":"agentic-primer-uo6","title":"P2: Advanced Features (WS4.3)","lifecycle":"pending","priority":"P2","description":"Implement hub:refresh_token for long-lived sessions. Success: Sessions >1 hour can refresh tokens, documented in PROTOCOL.md."}
{"id":"ugfm-self-describe","title":"Add info nodes: UGFM claims → live implementations","lifecycle":"completed","priority":"P1","description":"WorkflowOrchestrator, WorkflowBuilder, ugfm-claim*.ts, program entities all exist as code but not as graph nodes. The graph can't answer 'what demonstrates Claim 4?' Add ug info nodes that link UGFM claims to their live implementations so queries return answers instead of silence.","assignee":"claude"}
{"id":"ug-generic-apply","title":"ugs apply: generic graph-level JSONL bulk mutations","lifecycle":"completed","priority":"P1","description":"Op discriminator: {op: node|edge|patch|lifecycle|delete, id, ...}. Skip-if-exists semantics for seeding. Reference impl: TaskManager.applyBatch in task.ts lines 746-829. Enables: ugs traverse X | jq | ugs apply pipe pattern.","assignee":"@claude"}
{"id":"ug-query-cli","title":"ugs query: CLI surface for Query DSL","lifecycle":"completed","priority":"P1","description":"Expose existing TypeScript Query DSL as CLI. Query DSL exists in ugs/src/query/builder.ts with 865 tests. Executor stream() throws not-yet-implemented — needs implementing. CLI pattern: ugs query '{\"type\":\"match\",\"pattern\":\"tasks/*\"}' or JSONL stdin. Depends on: ug-generic-apply for write-side execution.","depends-on":["ug-generic-apply"],"assignee":"claude"}
{"id":"ug-ontology-schema-seed","title":"Seed canonical schema nodes into UGS graph","lifecycle":"completed","priority":"P1","description":"Nodes to create: ontology-schema-claim, ontology-schema-evidence, ontology-schema-concept, ontology-schema-source, session-fork-schema, cos-handoff-schema. infoType: schema, lifecycle: draft. Can use shell loop today (no bulk apply yet). Note: screenshot-artifact-schema and shot-actor-design-spec already exist as active/draft schema nodes.","assignee":"claude"}
{"id":"ug-program-context","title":"ugs program: implement graph context WIT injection","lifecycle":"completed","priority":"P2","description":"ugs program run <id> uses new Function('input', impl) — zero graph access today. program-context WIT hook exists but unimplemented. Enables: stored programs that can query/mutate graph at runtime. Depends on: ug-query-cli for read access in program context.","depends-on":["ug-query-cli"],"assignee":"claude"}
{"id":"ug-tag-graph","title":"Tags as first-class graph nodes with is-a edges","lifecycle":"completed","priority":"P2","description":"Current: tags are uncontrolled strings, string-matched only. Target: tag nodes with is-a edges for taxonomy traversal. Self-describing graph principle. Two sessions independently converging on this design.","assignee":"claude"}
{"id":"ug-cos-sync-edges","title":"cos sync: wire extends/relates_to edges","lifecycle":"completed","priority":"P2","description":"Wire [extends] chain between handoff nodes (cos-handoff-20260221-1109 → 1110). Project snapshot nodes with [relates_to] edges to open tasks. cos sync.ts already creates info nodes — needs edge-wiring pass. Depends on: ug-ontology-schema-seed.","depends-on":["ug-ontology-schema-seed"],"assignee":"claude"}
{"id":"ug-ontology-gen","title":"ontology gen: multi-format generator from UGS schema nodes","lifecycle":"completed","priority":"P2","description":"Targets: TypeScript types, Zod validators, WIT interfaces, SQL DDL, JSON Schema. Dual-format pattern already exists: core/wit/domain/domain.wit + domain.schema.json. Reads from UGS schema nodes → generates multiple formats. Depends on: ug-ontology-schema-seed (schemas must exist in graph).","depends-on":["ug-ontology-schema-seed"],"assignee":"claude"}
{"id":"ug-plan-mode","title":"Add plan mode/command to /ug — synthesizes prioritized work plan from graph state","lifecycle":"completed","priority":"P2","description":"Design doc: universal-graph-formal-model/analysis/UG_PLAN_MODE_DESIGN.md. Phase 1: add Section 14 to ~/.claude/skills/ug/SKILL.md teaching Claude to synthesize a plan from existing CLI queries (ugs task stats, ready, blocked, dep show). No CLI changes needed for Phase 1. Phase 2 (optional): ugs plan --json CLI subcommand that aggregates graph state into structured JSON. Phase 3 (optional): plan node type in graph with --store flag for outcome comparison. Output: numbered, workstream-grouped plan with rationale, unlocking annotations, duplicate detection, --goal weighting via ugs similar, --sprint mode for single-session focus.","assignee":"claude"}
{"id":"ug-apply-lifecycle-tasks","title":"ugs apply: op:lifecycle should route through TaskManager event handlers","lifecycle":"completed","priority":"P2","depends-on":["ug-generic-apply"],"assignee":"me"}
{"id":"ug-apply-edge-idempotent","title":"ugs apply: op:edge skip-if-exists (idempotent like op:node)","lifecycle":"completed","priority":"P2","depends-on":["ug-generic-apply"],"assignee":"me"}
{"id":"ug-apply-file-positional","title":"ugs apply: --file arg should be positional to match task apply convention","lifecycle":"completed","priority":"P3","depends-on":["ug-generic-apply"],"assignee":"me"}
{"id":"test-task-1","title":"Test task","lifecycle":"completed","assignee":"system"}
{"id":"ug-session-provenance","title":"Session provenance: wire spawned edges for agent sessions","lifecycle":"completed","priority":"P2","description":"The cos handoff node currently stores a flat sessionIds[] array containing ALL today's sessions (main + agent). Most are subordinate agent sessions spawned by /bg. This loses the parent/child hierarchy. Fix: 1) Use session-graph-parser to extract spawned edges from today's JSONL progress events (agentId field). 2) Create lightweight session nodes in UGS: session:{uuid} with type=session, properties={projectPath, startTime, sessionType=main|agent}. 3) Wire spawned edges: parent-session -[spawned]-> child-session. 4) Update cos sync.ts: replace flat sessionIds array in handoff content with just mainSessionId (the interactive session), and wire relates_to edges to the main session node instead of all 134. References: FORK_JOIN_SEMANTICS.md, session-fork-schema node, ugs/src/entities/session-graph-parser.ts","assignee":"claude"}
{"id":"test-validate-001","title":"test-validate-001","lifecycle":"completed","assignee":"system"}
{"id":"test-tag-node-001","title":"test-tag-node-001","lifecycle":"completed","assignee":"system"}
{"id":"ai-embedding-actor-refactor","title":"Refactor ai binary embedding layer — use actor model","lifecycle":"completed","priority":"P2","description":"Remove inline fallback logic from callGoogleEmbedding. Extract CF path to callGoogleEmbeddingCF. Add embed-gemini-cf catalog entry. Wire fallback chain in models.json.","assignee":"claude"}
{"id":"ug-doctor","title":"ugs doctor: general graph integrity audit and self-healing","lifecycle":"completed","priority":"P2","assignee":"claude"}
{"id":"commit-ugs-doctor-commands","title":"Commit: feat(ugs) doctor, tag repair/validate, session scan/ls/show commands","lifecycle":"pending","priority":"P1","description":"Repo: agentic-primer\nFiles: ugs/ugs, ugs/smoke-test.ts (optional — dev file)\nMessage: feat(ugs): add doctor, tag repair/validate, session scan/ls/show commands\nRisk: HIGH — 1337-line diff to main UGS binary; core tool for all agent sessions\nInfo node: commit-group-8\nChanges: ugs doctor (integrity audit); tag repair/validate; session scan/ls/show; parseTagsProperty() robust tag parsing; isValidTagName() validation\nCRITICAL: .ug/ and ugs/.ug/ must be added to .gitignore BEFORE committing — contains runtime WAL data (1382 files in ugs/.ug/ alone)","depends-on":["commit-agentic-primer-bugfixes"]}
{"id":"commit-computer-use-asset-storage","title":"Commit: feat(computer-use) asset-storage layer, ScreenshotActor, service-mesh actors","lifecycle":"pending","priority":"P1","description":"Repo: agentic-primer\nFiles: packages/computer-use/src/asset-storage/ (5 files), packages/computer-use/src/screenshot-actor.ts, packages/computer-use/src/register.ts, packages/actors/src/service-mesh/ (7 files: catalog/policy/router actors + types + tests)\nMessage: feat(computer-use): add asset-storage layer, ScreenshotActor, and service-mesh actors\nRisk: low — all new files, no modified existing files\nInfo node: commit-group-9\nChanges: ScreenStorageActor interface; WorkerAssetStorageActor (POST /api/assets/screenshot); generic CatalogActor/PolicyActor/RouterActor service-mesh triad; ScreenshotActor + register.ts\nNOTE: This should land after commit-ugs-doctor-commands if both target agentic-primer","depends-on":["commit-ugs-doctor-commands"]}
{"id":"ug-wal-snapshot","title":"Add WAL checkpoint: truncate events.wal after snapshot to prevent unbounded growth","lifecycle":"completed","priority":"P3","description":"graph.ts createSnapshot() writes snapshot.json but never truncates the WAL. The fix is one line: after a successful snapshot write, call writeFile(this.walFile, '') to reset the WAL to empty. On next load, loadFromPersistence() loads snapshot.json first, then replays only WAL events with timestamp > snapshot.eventCount — so an empty WAL is valid and correct. Sub-tasks: (1) Make createSnapshot() public in graph.ts so ugs CLI snapshot command can call it. (2) Add WAL truncation after snapshot write in createSnapshot(). (3) Lower snapshotInterval from 1000 to 100 events for more frequent auto-compaction. (4) Add ugs wal prune-tests to rm -rf .ug/test-alias-* (1382 dirs, 52KB of metadata). (5) Add ugs wal reset --confirm --graph <id> as a dev-only escape hatch. See info node: ug-wal-snapshot-design.","assignee":"claude"}
{"id":"ug-snapshot-prune-audit-nodes","title":"Exclude audit-event nodes from UGS hot snapshot (84% size reduction)","lifecycle":"pending","priority":"P3","description":"Audit-type nodes (program_event, task_event, information_event, embedding_event, program, claude-session) comprise 95.9% of all graph nodes (6,556 of 6,839) and 79% of snapshot.json bytes (1,702 KB of 2,162 KB). They are never queried by ug task ready, ug similar, or any hot-path command. WAL history in git already preserves the full audit trail. Fix: add a 3-line exclusion filter in createSnapshot() in ugs/src/graph.ts line 284. Strip nodes of AUDIT_TYPES from the snapshot.nodes array before writing. Also drop edges where both from and to are audit nodes (currently 0 such edges exist). The 103 cross-boundary edges are all information_event->tag is-a (101) plus 2 stale info->program references; dropping those edges is safe since tags remain in the live graph. Post-fix snapshot estimate: ~445 KB vs current 2,162 KB. This is Option B from the ug-archive-design analysis."}
{"id":"agentic-primer-rls","title":"Test: Framework Fixes (WS3.1)","lifecycle":"completed","priority":"P0","description":"Fix module import error, investigate and resolve broadcast/pub/sub timeout root causes, fix message ordering race condition. Success: All 13 failing tests pass, test suite stable.","assignee":"claude"}
{"id":"agentic-primer-x6y","title":"P0: Resource Protection (WS1.2)","lifecycle":"completed","priority":"P0","description":"Schedule TTL cleanup alarm, add message size check before parse, enforce broadcast limit. Prevents resource exhaustion attacks. Success: Alarms fire, oversized messages rejected, broadcast limit enforced.","assignee":"claude"}
{"id":"agentic-primer-5a4","title":"P0: Performance & Observability (WS1.3)","lifecycle":"completed","priority":"P0","description":"Remove verbose debug logging from hot paths, add DEBUG flag support, implement basic per-minute metrics. Success: Log volume reduced >90%, metrics collection operational.","assignee":"claude"}
{"id":"ug-nodes-jsonl-format","title":"Add --format jsonl to ug nodes command","lifecycle":"pending","priority":"P2","description":"Add --format jsonl flag to ug nodes command so it outputs JSONL instead of human-readable text. This is the primitive building block for all export operations. Each line is a node record. Should support all existing filters: --type, --tag, --limit."}
{"id":"ug-edges-primitive","title":"Add ug edges query command","lifecycle":"pending","priority":"P2","description":"New top-level command: ug edges [--type X] [--from Y] [--to Z] [--format jsonl]. Lists edges in the graph with optional filters. Pairs with ug nodes to enable full graph export. Required for complete SOR export (nodes-only export loses all relationship data)."}
{"id":"ug-export-top-level","title":"Add top-level ug export command with domain groups","lifecycle":"pending","priority":"P2","description":"New verb-first top-level command: ug export [domain]. Domains: work (tasks+epics+projects), knowledge (info nodes), actors (agents+humans), config (models+providers), graph (all nodes+edges). No-arg ug export writes git-ready snapshot: .ug/work.jsonl + .ug/knowledge.jsonl. Also support ug export task as alias for ug task export.","depends-on":["ug-nodes-jsonl-format","ug-edges-primitive"]}
{"id":"ug-entity-export-apply","title":"Add export/apply to all entity managers","lifecycle":"pending","priority":"P2","description":"Add export and apply subcommands to all entity types: info, agent, session, model, provider, epic, project, human. Reference implementation: TaskManager.exportTasks() in ugs/src/entities/task.ts:838 and ug task apply CLI handler. Each type needs: exportXxx(filter, prefix) method on manager + CLI handler + apply/batch import. ~40 lines per type, 8 types."}
{"id":"ug-archive-export","title":"Add archive export: ug export archive (terminal nodes)","lifecycle":"pending","priority":"P3","description":"ug export archive writes all terminal-state nodes (tasks: completed/failed, info: archived, epics: completed/cancelled, projects: completed/archived) to .ug/archive.jsonl. Reduces snapshot size by moving terminal nodes out of the hot path. Pairs with ug-snapshot-prune-audit-nodes.","depends-on":["ug-entity-export-apply"]}
{"id":"ugfm-spin-comparison","title":"UGFM: Head-to-head SPIN comparison on Peterson's mutual exclusion","lifecycle":"completed","priority":"P2","description":"Model Peterson's 2-process mutual exclusion in both SPIN/Promela and UGFM/GraphStore, then generate a rigorous head-to-head comparison. Goals: (1) Install SPIN (brew install spin). (2) Write Peterson's algorithm in Promela (~30 LOC) with LTL property: mutual exclusion ([] \\!(p1_cs && p2_cs)) and liveness ([] (p1_try -> <> p1_cs)). Run spin -a && gcc pan.c && ./pan -a. Record: state count, verification time, property class. (3) Model the same system as a Kripke structure in GraphStore — 2-process states (idle, trying, critical), transitions, labels. Use traverse() for safety, findSCCs() for GF-liveness. Identify which properties GraphStore can verify vs. cannot (response liveness needs product automaton). (4) Write comparison document to analysis/ugfm-spin-comparison.md with: Promela spec, GraphStore spec, property verification matrix (which tool verifies which), LOC counts, state space sizes, timing. (5) Add test in ugfm-claim2.test.ts suite 2.7 demonstrating what UGFM CAN verify about Peterson's. The honest finding: SPIN verifies liveness via full state-space + Buchi automaton; UGFM verifies structural safety and GF-liveness via SCC; response liveness ([] (try -> <> cs)) requires product construction on the UGFM substrate. Repos: agentic-primer (tests), universal-graph-formal-model/analysis/ (comparison doc).","assignee":"system"}
{"id":"ugfm-spin-processgraph","title":"Build SPIN ProcessGraph: generatePromela() from graph spec","lifecycle":"completed","priority":"P2","description":"The one genuinely new thing. Process nodes + Transition edges → generatePromela(store). Same graph → SPIN verification AND direct graph verification → compare results. Closes the 'SPIN is a peer not a target' framing problem.","depends-on":["ugfm-self-describe"],"assignee":"system"}
{"id":"ugfm-query-protocol","title":"Add 'query before theorize' rule to /rigor","lifecycle":"completed","priority":"P1","description":"Three sessions in a row: theorized about graph capabilities that were already built. Rule: before any 'can the graph represent X?' discussion, run: ug search <concept>, ug types, ug help <topic>. If the graph returns nothing, THEN theorize. Add to /rigor methodology as explicit step.","assignee":"system"}
{"id":"embed-eval-queries","title":"Define eval query set for embedding model comparison","lifecycle":"completed","priority":"P2","assignee":"system"}
{"id":"embed-eval-run","title":"Run embedding model eval harness on UGFM corpus","lifecycle":"completed","priority":"P3","depends-on":["embed-eval-schema","embed-eval-queries"],"assignee":"system"}
{"id":"embed-eval-report","title":"Report: pick canonical embedding model based on corpus eval","lifecycle":"completed","priority":"P3","depends-on":["embed-eval-run"],"assignee":"system"}
{"id":"ug-workspace-concept","title":"Workspace concept: named focus areas independent of filesystem paths","lifecycle":"pending","priority":"P2","description":"Design and implement workspace switching for UGS. A workspace is a named focus area (ugfm, signal-hub, ug-infra) that is independent of which directory you are in. Tasks belong to a workspace, not a directory. Commands: ug workspace switch <name>, ug workspace list, ug workspace create <name> [--data-dir path]. The current prefix convention (ugfm-, ap-, ug-) is implicit workspace filtering — make it explicit. Each workspace can have its own .ug/ data dir or share one with prefix isolation. Cross-workspace task dependencies should work (ug-infra task blocks ugfm task)."}
{"id":"embed-eval-schema","title":"Design multi-embedding storage schema","lifecycle":"pending","priority":"P2","assignee":"system"}
{"id":"commit-ai-gemini-embedding","title":"Commit: feat(ai) Google Gemini embedding adapter + CF Gateway fallback","lifecycle":"completed","priority":"P1","description":"Repo: ~/.claude\nFiles: skills/ai/app/ai\nMessage: feat(ai): add Google Gemini embedding adapter with CF Gateway fallback\nRisk: low\nInfo node: commit-group-1\nChanges: +178/-0 lines — adds google/gemini-embedding-001, embed-gemini, embed-gemini-cf catalog entries; callGoogleEmbedding() and callGoogleEmbeddingCF() functions; fixes fallback loop to resolve catalog aliases","assignee":"system"}
{"id":"commit-ai-actor-graph","title":"Commit: feat(ai) AI actor graph — inference, gateway, provider, catalog, policy, router","lifecycle":"completed","priority":"P1","description":"Repo: ~/.claude\nFiles: skills/ai/app/daemon/src/actors/ai-graph/ (19 new files: 10 actors + 9 tests)\nMessage: feat(ai): add AI actor graph — gateway/provider/inference/catalog/policy/router actors\nRisk: low — all new files, no modified existing files\nInfo node: commit-group-2\nChanges: complete actor triad for AI routing graph with full test coverage","assignee":"system"}
{"id":"commit-shot-worker-upload","title":"Commit: feat(shot) replace R2 presign with brianln.ai Worker device-flow auth","lifecycle":"completed","priority":"P1","description":"Repo: ~/.claude\nFiles: skills/shot/SKILL.md, skills/shot/app/shot.ts, skills/shot/tests/shot.test.ts\nMessage: feat(shot): replace R2 presign upload with brianln.ai Worker device-flow auth\nRisk: medium — shot.ts is -147/+0 significant rewrite; tests updated in parallel; breaking change for users with R2 aws-cli config\nInfo node: commit-group-3\nChanges: upload target changed from wrangler r2 → POST /api/assets/screenshot; RFC 8628 device flow; shareUrl replaces presignedUrl (permanent vs 24h expiry); removes wrangler/aws-cli runtime deps\nNOTE: shot-r2-credentials task (pending P2) should be updated/closed — the R2 presign flow is gone","depends-on":["commit-computer-use-asset-storage"],"assignee":"system"}
{"id":"commit-cos-handoff-edges","title":"Commit: feat(cos) wire extends/relates_to/ran_in edges from handoff nodes","lifecycle":"completed","priority":"P2","description":"Repo: ~/.claude\nFiles: skills/cos/app/lib/sync.ts\nMessage: feat(cos): wire graph edges from handoff nodes (extends, relates_to, ran_in)\nRisk: low — additive; all edge wiring is best-effort (exceptions swallowed, never breaks sync)\nInfo node: commit-group-4\nChanges: +90/-0 lines; findPreviousHandoffNode(), wireHandoffEdges(); handoffNode content drops sessionIds array, adds mainSessionId scalar","assignee":"system"}
{"id":"commit-ug-plan-spec","title":"Commit: docs(ug) add /ug plan command spec to SKILL.md","lifecycle":"completed","priority":"P2","description":"Repo: ~/.claude\nFiles: skills/ug/SKILL.md\nMessage: docs(ug): add /ug plan command spec — synthesize prioritized work plan from graph state\nRisk: low — documentation only, no runtime changes\nInfo node: commit-group-5\nChanges: +140 lines; Section 14 added: invocation syntax, data-gathering commands, workstream grouping table, synthesis rules, output format","assignee":"system"}
{"id":"commit-code-structural-classifier","title":"Commit: feat(code) structural signal fallback classifier + obfuscation detector","lifecycle":"completed","priority":"P1","description":"Repo: ~/.claude\nFiles: skills/code/lib/cascade/pattern-classifier.ts + pattern-classifier.test.ts, skills/code/lib/assimilate/phase1-structure.ts + phase3/4/5 + orchestrator, skills/code/lib/assimilate/obfuscation-detector.ts + test + structural-fingerprint.ts + wl-kernel.ts, skills/code/lib/semantic/bm25.ts + cascade-hybrid.test.ts + db.ts + search.ts, skills/code/schemas/information-model.yaml, skills/code/bun-env.d.ts\nMessage: feat(code): structural signal fallback classifier + obfuscation detector\nRisk: medium — large classifier rewrite (683 lines of new tests); phase1 FamilySignals now exported (API change); phase5 CATEGORY_TO_FAMILY_MAP now exhaustive\nInfo node: commit-group-6\nChanges: StructuralSignalRule (naming-invariant fallback); AlternativeMatch (composition detection); LRU cache + backoff signals added to FamilySignals; SIMILARITY_FLOOR=0.65; dev-mode cosine fallback in semantic DB","depends-on":["commit-code-new-skills-data"],"assignee":"system"}
{"id":"commit-code-new-skills-data","title":"Commit: feat(code) add eval/iterate skills, discriminator, seed data, docs, fixtures","lifecycle":"completed","priority":"P2","description":"Repo: ~/.claude\nFiles: skills/eval/ (SKILL.md + eval binary), skills/iterate/ (SKILL.md + iterate binary), skills/data/ (saved/listings.json), skills/code/lib/discriminator/ (new), skills/code/data/ (seed algorithms, algorithm-graph.json — exclude events.wal), skills/code/fixtures/ (6 annotated fixtures), skills/code/tests/ (phase5, wl-kernel), skills/code/docs/ (14 design docs), skills/code/scripts/ (spike scripts — optional)\nMessage: feat(code): add eval harness skill, iterate loop skill, discriminator, seed data, docs\nRisk: low — all new/untracked files; no modifications to existing files\nInfo node: commit-group-7\nIMPORTANT: Exclude *.wal files (events.wal is runtime data, should be gitignored)","assignee":"system"}
{"id":"commit-agentic-primer-bugfixes","title":"Commit: fix(agentic-primer) esbuild graceful skip + signal-hub schema-validator rewrite + test startup polling","lifecycle":"completed","priority":"P2","description":"Repo: agentic-primer\nFiles: packages/cloudflare/src/__tests__/provisioner-do.test.ts, services/signal-hub/src/validation/schema-validator.ts, tests/integration/signal-hub/helpers/signal-hub.ts\nMessage: fix(agentic-primer): graceful esbuild skip, handwritten schema validator, HTTP-poll startup\nRisk: low-medium — schema-validator removes ajv dependency (breaking if Workers runtime relied on ajv eval)\nInfo node: (not yet created — these are tracked file modifications outside the 9 commit groups)\nChanges:\n- provisioner-do.test.ts: graceful skip when esbuild unavailable (macOS security policy)\n- schema-validator.ts: replace ajv + ajv-formats with handwritten validators (Workers eval() blocked)\n- signal-hub.ts integration helper: replace stdout 'Ready on' detection with HTTP polling (/health endpoint)","assignee":"system"}
