# AGGRESSIVE MIGRATION DIRECTIVE

## Context: Pre-0.0.1.1 Development

**User:** "Everything right now is 'breaking' work and that is ok, because we haven't even gotten to a working version yet (0.0.1.1)"

## What This Means

- **NO backward compatibility needed** - we have no users yet
- **NO deprecation warnings** - just change it
- **NO phased rollout** - do it all at once
- **NO shims or adapters** - clean implementation only
- **FAST execution** - days not weeks

## Simplified Approach

### Step 1: Core Changes (Do all at once)
1. Rename `Actor.send()` → `Actor.receive()` in base.ts
2. Create `System` class (based on Registry)
3. Create `BaseActor` class with `protected send()`
4. Update Registry → System everywhere

### Step 2: Update All Actors (Batch operation)
- Rename `send()` → `receive()` in ALL actor implementations
- Make actors that need to send extend BaseActor
- Update all actor instantiations

### Step 3: Update All Tests (Batch operation)
- Change `actor.send(msg)` → `actor.receive(msg)` everywhere
- Change `registry.send()` → `system.receive()` or `system.sendTo()`
- Update all assertions

### Step 4: Verify
- Run `bun test` - all tests must pass
- Run examples - all must work
- Done!

## No Need For

- ❌ Deprecation warnings
- ❌ Backward compat shims
- ❌ Legacy adapters
- ❌ Gradual migration phases
- ❌ Version compatibility checks
- ❌ Migration guides (we have no users!)

## Just Do

- ✅ Rename methods correctly
- ✅ Update all code consistently
- ✅ Make tests pass
- ✅ Clean, correct implementation

## Timeline

**Target:** Complete in 1-2 sessions, not 7 weeks
- Core changes: 1-2 hours
- Actor updates: 2-3 hours
- Test updates: 2-3 hours
- Verification: 1 hour
- **Total: ~1 day of focused work**

## Key Pattern (Still Required)

Actors never reference System explicitly:
```typescript
class MyActor extends BaseActor {
  async receive(message: Message): Promise<Response> {
    // Just use this.send() - no System in sight
    await this.send("other-id", message);
    return { success: true };
  }
}
```

## Bottom Line

You're not migrating a production system. You're fixing a semantic error in early development code. Be direct, be fast, make it correct.
