{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "error-response.schema.json",
  "title": "Error Response",
  "description": "Standard error response format for all hub:error messages",
  "type": "object",
  "required": ["code", "message", "resolution"],
  "properties": {
    "code": {
      "type": "string",
      "enum": [
        "version_mismatch",
        "unauthorized",
        "rate_limited",
        "unknown_actor",
        "message_too_large",
        "message_expired",
        "timeout",
        "internal_error",
        "invalid_token"
      ],
      "description": "Error code for programmatic handling"
    },
    "message": {
      "type": "string",
      "description": "Human-readable error message",
      "minLength": 1
    },
    "resolution": {
      "type": "string",
      "description": "Actionable hint for resolving the error",
      "minLength": 1
    },
    "details": {
      "type": "object",
      "description": "Additional error context (varies by error type)",
      "additionalProperties": true,
      "examples": [
        {
          "retryAfter": 30,
          "limit": "100 messages/min"
        },
        {
          "expected": "1.0",
          "received": "0.9"
        }
      ]
    }
  },
  "additionalProperties": false
}
